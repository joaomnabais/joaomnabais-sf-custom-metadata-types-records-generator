<!-- VARS -->

[star-badge]: https://img.shields.io/github/stars/joaomnabais/sf-custom-metadata-types-records-generator?logo=github
[last-commit-badge]: https://img.shields.io/github/last-commit/joaomnabais/sf-custom-metadata-types-records-generator
[issues-url]: https://github.com/joaomnabais/sf-custom-metadata-types-records-generator/issues/
[node-url]: https://nodejs.org/en
[yarn-url]: https://classic.yarnpkg.com/
[npm-url]: https://www.npmjs.com/

<!-- VARS -->

<p align="center">
  <img src="https://www.salesforce.com/content/dam/sfdc-docs/www/logos/logo-salesforce.svg" alt="salesforce-logo" width="150"/>
</p>

<p align="center">
  Node.js script to convert CSV data into ready for deployment XML Metadata of type CustomMetadata.
</p>

<div align="center">

![Git Stars][star-badge]
![Last Commit][last-commit-badge]

</div>

### Content

- [Getting Started](#Getting-Started-)
  - [Cloning](#Cloning)
  - [Requirements](#Requirements)
  - [Running](#Running)
- [Issues](#Issues-)
  - [Report](#Report)

### Getting Started 🚀

#### Requirements

- [Node.js][node-url]
- [Yarn][yarn-url] or [npm][npm-url]

This project use third party dependencies that need to be installed, use that command to install all needed dependencies

```ps
$ npm install
```

or

```ps
$ yarn install
```

> The above command will install all third party dependencies used.

#### Running

The folder **data** contains one file named **demo.csv** wish should be the CSV template pattern to follow, adding as many Custom Fields as you need.

> Custom Fields Data Type (2nd row) is required for each Custom Field and Label(1st column) is required for each record.

Required flags in the command to start the script:

- **--object-name**: Describes the Custom Metadata Type Object Name
- **--data**: Describes the path to the CSV wish contains the data to process
- **--file-extension**: Describes the file extension of the Metadata that will be generated after processing each record (can be **md-meta.xml** or **md**)

Commands examples to start the script:

- Using Node.js CLI:
  ```ps
  $ node src/index.js --object-name=Your_Custom_Metadata_Type_Name_Object_Name --data=../data/demo.csv --file-extension=md-meta.xml
  ```
  ```ps
  $ node src/index.js --object-name=Your_Custom_Metadata_Type_Name_Object_Name --data=../data/demo.csv --file-extension=md
  ```
- Using Yarn CLI:
  ```ps
  $ yarn start --object-name=Your_Custom_Metadata_Type_Name_Object_Name --data=../data/demo.csv --file-extension=md-meta.xml
  ```
  ```ps
  $ yarn start --object-name=Your_Custom_Metadata_Type_Name_Object_Name --data=../data/demo.csv --file-extension=md
  ```

The folder **customMetadata** contains one example file of XML Metadata generated by the execution of the above command.

> All your Generated Metadata files will be written in the **customMetadata** folder

### Issues 🐛

#### Report

In case you are having any problem you can report in [Issues][issues-url] section.
